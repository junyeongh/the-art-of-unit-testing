# 2장 첫 번째 단위 테스트

```
test/
  unit/
  integration/
  e2e/
  utils/
    unit/
    integration/
    e2e/
    shared/
```

- **2.1 제스트 소개**
  - [Getting Started · Jest](https://jestjs.io/docs/getting-started)
- **2.2 라이브러리, 검증, 러너, 리포터**
- **2.3 단위 테스트 프레임워크가 제공하는 기능**
- **2.4 앞으로 이 책에서 주로 다루는 예제: 비밀번호 검증 프로젝트**
- **2.5 verifyPassword( ) 함수의 첫 번째 테스트 코드**
  - *2.5.1 준비-실행-검증 패턴*
    - AAA 패턴: 테스트 작성의 기본적인 구조 => 가독성 향상
      - Arrange (준비) - (Given)
      - Act (실행) - (When)
      - Assert (검증) - (Then)
  - *2.5.3 USE 전략*
    - 테스트 코드 이름 작성 방식
      - Unit: 테스트 대상
      - Scenario: 입력 값이나 상황에 대한 설명
      - Expectation: 기댓값이나 결과에 대한 설명
  - *2.5.9 verifyPassword( ) 함수 리팩터링*
    - '검증 룰렛'과 좋은 테스트 실행 방식
- **2.6 beforeEach( ) 함수 사용**
  - @ "역자의 노트"를 보면, 테스트 코드의 모든 부분을 공통적으로 분리하는 것에 대한 저자와 역자의 다른 생각에 대한 내용이 나오는데, 이런 테스트 철학과 유지 보수에 연관된 코드의 결합도는 프로젝트 규모와 팀 내의 합의에 많이 연관이 되어 있을 것 같다. 중복을 제거해서 공통 로직으로 분리하는 것과 코드의 결합도를 낮추는 것 사이의 균형점을 어떻게 찾을지 `beforeEach`/`AfterEach` 등의 사용에 있어서 고민을 먼저 해보다보면, 역자의 말대로 '자신만의 테스트 철학'이 생기지 않을까?
- **2.7 팩토리 함수 사용**
  - [Factory Method](https://refactoring.guru/design-patterns/factory-method)
  - *2.7.1 팩토리 함수로 beforeEach( ) 함수 완전히 대체*
    - @ 이 책에서는 객체지향 방법론에서 자주 쓰는 Factory method의 형태로 `beforeEach`를 대체하는데, 이 방법이 `beforeEach`의 사용을 어떤 상황에서는 대체할 수 있고 위에서 얘기한 AAA 패턴과 USE 전략에서 설명한 준비 단계에서 입력값을 명확히 하는데는 좋아 보인다. 그렇지만, 모든 상황에서 팩토리 패턴이 `beforeEach`를 대체할 수는 있지만, 프로그래밍 언어에 따라서 패러다임에 따라 항상 이 패턴이 어울리는지는 모르겠다. (JS/TS의 경우에는 prototype을 기반으로 한 객체를 생각해보면 어울리는 것 같긴 한데...)
- **2.8 다시 test( ) 함수로 돌아가기**
  - @ 개인적으로는 `describe`로 계층화를 시키는 편이 test 결과 출력이나 코드 자체에서 USE 전략으로 위계를 분리해서 좋아보이는데
- **2.9 다양한 입력 값을 받는 테스트 리팩터링**
  - [Globals · Jest](https://jestjs.io/docs/api#each)
- **2.10 예정된 오류가 발생하는지 확인**
  - @
    - `fail` 함수는 처음 들어보는데 try-catch 구문의 경우에는 이 방식이 확실히 괜찮찮아 보이긴 한다.
    - 결국에 `expect`<=>`fail`이냐 expect => 성공/실패냐의 차이 인듯
- **2.11 테스트 카테고리 설정**
  - @ 이 부분은 수업에서도 jest로 유닛 테스트 뿐만 아니라 각 테스트 카테고리에 해당하는 테스트들 예제를 보면서 어떻게 분리를 하면 좋을지 생각을 했는데 이런 방법으로 분리를 하면 코드 베이스에서 테스트를 찾는 방식이 좀 더 명확해질 듯
- **2.12 요약**
  - @ 예제 코드를 실습하면서 예제 코드의 JS를 TypeScript로 테스트 환경을 대체해서 셋업해 봤는데 지난 주에 생각했던 좋은 코드를 위해 좋은 테스트 코드 작성와 더불어서 상호 보완적인 좋은 코드 작성을 강한 타입 시스템으로 가져가면 좋을 것 같다.
